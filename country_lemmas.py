import os
import time
from glob import glob
from typing import Dict, List

ignore = {"шотландия", "англия"}
cities = {
    "дацин",
    "вологодский",
    "ангарск",
    "владимир",
    "кемерово",
    "ужгород",
    "рязанский",
    "берлинский",
    "саранск",
    "осака",
    "манчестер",
    "новгородский",
    "архангельский",
    "майами",
    "якутск",
    "вологда",
    "самара",
    "нальчик",
    "гуанчжоу",
    "рязань",
    "ялта",
    "ставрополь",
    "ростов",
    "брянск",
    "екатеринбургский",
    "новокузнецк",
    "страсбург",
    "луанда",
    "ванкувер",
    "владимирский",
    "крымск",
    "львов",
    "гуандун",
    "джубга",
    "мытищи",
    "днепропетровск",
    "бирмингем",
    "эдинбург",
    "бургас",
    "магнитогорск",
    "костромской",
    "хургад",
    "ленинград",
    "оренбург",
    "туапсе",
    "дубайский",
    "томский",
    "керчь",
    "тамбов",
    "батуми",
    "иваново",
    "кострома",
    "пензенский",
    "кисловодск",
    "штутгарт",
    "мельбурн",
    "туапсинский",
    "орёл",
    "курск",
    "хошимин",
    "стамбульский",
    "нижний тагил",
    "сочинский",
    "ханчжоу",
    "кременчуг",
    "денвер",
    "питер",
    "чита",
    "верона",
    "дербент",
    "london",
    "бушер",
    "владикавказ",
    "даллас",
    "петропавловск",
    "глазго",
    "эрзурум",
    "благовещенск",
    "тяньцзина",
    "петрозаводск",
    "смоленск",
    "ларнака",
    "пенза",
    "братск",
    "суджа" "херсонести таврический",
    "воронежский",
    "стамбул",
    "макао",
    "челябинск",
    "бургаснуть",
    "цюрих",
    "калининградский",
    "воронеж",
    "тюменский",
    "волгоградский",
    "новороссийский",
    "норильск",
    "детройт",
    "свердловский",
    "махачкала",
    "иркутск",
    "нижегородский",
    "александруполис",
    "чикаго",
    "новосибирский",
    "кельн",
    "мурманск",
    "тюмень",
    "белгородский",
    "краснодарский",
    "сидней",
    "ульяновский",
    "мюнхен",
    "зеленоград",
    "хабаровский",
    "калужский",
    "саратовский",
    "ростовский",
    "выборг",
    "торонто",
    "липецкий",
    "тверь",
    "тольятти",
    "тайшет",
    "липецк",
    "бостон",
    "байкальск",
    "хьюстонский",
    "магаданский",
    "мурманский",
    "челябинский",
    "тульский",
    "смоленский",
    "курский",
    "барселона",
    "магадан",
    "франкфуртский",
    "находка",
    "лондонский",
    "московский",
    "сочи",
    "петербургский",
    "владивосток",
    "петербург",
    "севастополь",
    "екатеринбург",
    "дубай",
    "нижний новгород",
    "новосибирск",
    "калининград",
    "краснодар",
    "давоса",
    "хьюстон",
    "хабаровск",
    "пикалево",
    "новороссийск",
    "франкфурт",
    "киевский",
    "симферополь",
    "волгоград",
    "самарский",
    "одесса",
    "ярославль",
    "красноярский",
    "иркутский",
    "пермь",
    "уфа",
    "одесский",
    "ульяновск",
    "анапа",
    "милан",
    "красноярск",
    "женева",
    "самар",
    "омск",
    "казань",
    "томск",
    "астраханский",
    "калуга",
    "ницца",
    "химки",
    "геленджик",
    "мумбай",
    "миланский",
    "оренбургский",
    "набережная челны",
    "брянский",
    "роттердам",
    "белгород",
    "харьков",
    "гамбург",
    "ярославский",
    "тула",
    "сургут",
    "саратов",
    "адлер",
    "барнаул",
    "пермский",
    "тамбовский",
    "дюссельдорф",
    "варна",
    "харьковский",
    "сиэтл",
    "ижевск",
    "астрахань",
    "грозный",
    "омский",
    "архангельск",
}
organizations = {
    "rio tinto",
    "рао",
    "karstadt",
    "минрегион",
    "минпромторг",
    "гохран",
    "норникель",
    "northern rock",
    "минфин",
    "ржд",
    "лукойл",
    "пфр",
    "сбербанк",
    "минюст",
    "центробанк",
    "дума",
    "pwc",
    "русало",
}
gpes = {
    "душанбе",
    "ханой",
    "дели",
    "анталья",
    "гватемала",
    "джакарта",
    "молдова",
    "братислава",
    "гавана",
    "подгорица",
    "бухарест",
    "вашингтонский",
    "рейкьявик",
    "расон",
    "алеппо",
    "рсфср",
    "мехико",
    "европейский союз",
    "каракас",
    "белград",
    "вильнюс",
    "софия",
    "прага",
    "каир",
    "ереван",
    "бангкок",
    "ташкент",
    "рига",
    "кишинев",
    "афины",
    "дамаск",
    "бишкек",
    "лиссабон",
    "таллин",
    "дублин",
    "донецк",
    "копенгаген",
    "рим",
    "снг",
    "москва",
    "киев",
    "минск",
    "европа",
    "лондон",
    "дальний восток",
    "евросоюз",
    "ес",
    "вашингтон",
    "брюссель",
    "азия",
    "гонконг",
    "восточный европа",
    "пекин",
    "африка",
    "ближний восток",
    "кремль",
    "афина",
    "тегеран",
    "еврозона",
    "алжир",
    "токио",
    "доха",
    "берлин",
    "латинский америка",
    "анкара",
    "баку",
    "тбилиси",
    "прибалтика",
    "стокгольм",
    "багдад",
    "варшава",
    "амстердам",
    "мадрид",
    "астан",
    "ашхабад",
    "будапешт",
    "тунис",
    "хельсинки",
    "сеул",
    "гонконгский",
    "пхеньян",
    "триполи",
    "осло",
    "никосия",
}
locations = {
    "ориноко",
    "амазонка",
    "сахара",
    "карский море",
    "северный ледовитый океан",
    "охотский море",
    "баренцев",
    "евразия",
    "карибский бассейн",
    "атлантический океан",
    "дарданелла",
    "азовский море",
    "индийский океан",
    "средиземный море",
    "охотский мор",
    "керченский пролив",
    "северный мор",
    "баренцев мор",
    "каспийский мор",
    "балтийский мор",
    "карский мор",
    "босфор",
    "атлантика",
    "северный море",
    "баренцев море",
    "чёрный море",
    "мексиканский залив",
    "балтийский море",
    "персидский залив",
    "тихий океан",
    "каспийский море",
    "чёрный мор",
}
facilities = {
    "south stream",
    "панамский канал",
    "северный морской путь",
    "южный поток",
    "северный поток",
    "deepwater horizon",
    "nord stream",
    "диснейленд",
}
remove = {"пхг", "спг"}
products = {"brent", "urals"}
regions = {
    "приволжский федеральный округа",
    "приволжский",
    "тульский область",
    "янао",
    "республика татарстан",
    "республика коми",
    "рязанский область",
    "еврейский автономный область",
    "забайкальский край",
    "читинский область",
    "смоленский область",
    "огайо",
    "кировский область",
    "центральный административный округа",
    "тыва",
    "псковский область",
    "уральский федеральный округа",
    "оренбургский область",
    "луганский область",
    "невад",
    "северный дакота",
    "липецкий область",
    "ставрополье",
    "республика алтай",
    "пензенский область",
    "делавэр",
    "новгородский область",
    "мэриленд",
    "арканзас",
    "вирджиния",
    "киевский область",
    "республика башкортостан",
    "марий эл",
    "республика дагестан",
    "бавария",
    "квинсленд",
    "альберт",
    "орегон",
    "сибирский федеральный округа",
    "ленобласть",
    "московский регион",
    "пенсильвания",
    "архангельский область",
    "забайкалье",
    "южный федеральный округа",
    "дальневосточный федеральный округа",
    "ульяновский область",
    "чувашия",
    "республика крым",
    "поволжье",
    "новосибирский область",
    "удмуртия",
    "иллинойс",
    "луизиана",
    "мордовия",
    "колорадо",
    "магаданский область",
    "сахалинский область",
    "хакасия",
    "калифорнийский",
    "кемеровский область",
    "амурский область",
    "нижегородский область",
    "центральный федеральный округа",
    "саратовский область",
    "чеченский республика",
    "калужский область",
    "ненецкий автономный округа",
    "калмыкия",
    "пермский край",
    "алтайский край",
    "мурманский область",
    "карелия",
    "тува",
    "бурятия",
    "томский область",
    "челябинский область",
    "алабама",
    "кубань",
    "техас",
    "дагестан",
    "татарстан",
    "чечня",
    "подмосковье",
    "крым",
    "московский область",
    "краснодарский край",
    "якутия",
    "иркутский область",
    "калининградский область",
    "красноярский край",
    "калифорния",
    "приморский край",
    "ленинградский область",
    "башкирия",
    "ростовский область",
    "аляска",
    "чукотка",
    "техасский",
    "свердловский область",
    "приморье",
    "ингушетия",
    "ставропольский край",
    "самарский область",
    "флорида",
    "хабаровский край",
    "тюменский область",
    "камчатка",
    "тверская область",
    "адыгея",
    "омский область",
    "воронежский область",
    "белгородский область",
    "ярославский область",
    "астраханский область",
    "чукотский автономный округа",
    "камчатский край",
    "коми",
    "коннектикут",
    "северный каролина",
    "волгоградский область",
    "вологодский область",
    "массачусетс",
    "каталония",
}
countries = {
    "china",
    "russia",
    "абхазия",
    "австралийский",
    "австралия",
    "австрийский",
    "австрия",
    "азербайджан",
    "азербайджанский",
    "албания",
    "американский",
    "английский",
    "ангола",
    "арабский",
    "аргентина",
    "аргентинский",
    "армения",
    "армянский",
    "афганистан",
    "африканский",
    "бангладеш",
    "бахрейн",
    "башкирский",
    "беларусь",
    "белоруссия",
    "белорусский",
    "бельгийский",
    "бельгия",
    "бирма",
    "болгария",
    "болгарский",
    "боливия",
    "босния",
    "босния и герцеговина",
    "ботсвана",
    "бразилия",
    "бразильский",
    "британский",
    "британский виргинский остров",
    "бруней",
    "бурунди",
    "вануату",
    "великобритания",
    "венгерский",
    "венгрия",
    "венесуэла",
    "венесуэльский",
    "вьетнам",
    "вьетнамский",
    "габон",
    "гана",
    "гвинея",
    "гдр",
    "германия",
    "германский",
    "голландия",
    "голландский",
    "гондурас",
    "греция",
    "греческий",
    "грузинский",
    "грузия",
    "дания",
    "датский",
    "днр",
    "европейский",
    "египет",
    "египетский",
    "замбия",
    "зимбабве",
    "израиль",
    "израильский",
    "индийский",
    "индия",
    "индонезийский",
    "индонезия",
    "иордания",
    "ирак",
    "иракский",
    "иран",
    "иранский",
    "ирландия",
    "ирландский",
    "исландия",
    "исландский",
    "испания",
    "испанский",
    "италия",
    "итальянский",
    "йемен",
    "казахский",
    "казахстан",
    "казахстанский",
    "камбоджа",
    "канада",
    "канадский",
    "катар",
    "кения",
    "кипр",
    "кипрский",
    "киргизия",
    "китаец",
    "китай",
    "китайский",
    "кндр",
    "кнр",
    "колумбия",
    "корейский",
    "куб",
    "куба",
    "кубинский",
    "кувейт",
    "кувейтский",
    "лаос",
    "латвийский",
    "латвия",
    "латиноамериканский",
    "либерия",
    "ливан",
    "ливийский",
    "ливия",
    "литва",
    "литовский",
    "лихтенштейн",
    "лнр",
    "луганский народный республика",
    "люксембург",
    "люксембургский",
    "малайзийский",
    "малайзия",
    "марокко",
    "мексика",
    "мексиканский",
    "мозамбик",
    "молдавия",
    "молдавский",
    "монако",
    "монголия",
    "мьянма",
    "намибия",
    "науру",
    "немецкий",
    "непал",
    "нигерийский",
    "нигерия",
    "нидерландский",
    "нидерланды",
    "никарагуа",
    "новый зеландия",
    "норвегия",
    "норвежский",
    "оаэ",
    "объединить арабский эмират",
    "оман",
    "пакистан",
    "парагвай",
    "париж",
    "парижский",
    "перу",
    "польский",
    "польша",
    "португалия",
    "приднестровье",
    "республика беларусь",
    "республика корея",
    "российский",
    "российский федерация",
    "российско",
    "россия",
    "руанда",
    "румыния",
    "румынский",
    "рф",
    "саудовский",
    "саудовский аравия",
    "северный корея",
    "северокорейскийитальянский",
    "сербия",
    "сербский",
    "сингапур",
    "сингапурский",
    "сирийский",
    "сирия",
    "скандинавский",
    "словакия",
    "словацкий",
    "словения",
    "советский",
    "советский союз",
    "соединить королевство",
    "соединить штат",
    "сомали",
    "ссср",
    "судан",
    "сша",
    "таджикистан",
    "таиланд",
    "тайвань",
    "тайваньский",
    "танзания",
    "турецкий",
    "туркменистан",
    "туркмения",
    "туркменский",
    "турция",
    "уганда",
    "узбекистан",
    "узбекский",
    "украина",
    "украинск",
    "украинский",
    "уругвай",
    "филиппина",
    "финляндия",
    "финский",
    "франция",
    "французский",
    "фрг",
    "хорватия",
    "чад",
    "черногория",
    "чехия",
    "чешский",
    "чили",
    "шведский",
    "швейцария",
    "швейцарский",
    "швеция",
    "шотландский",
    "эквадор",
    "экваториальный гвинея",
    "эстония",
    "эстонский",
    "эфиопия",
    "юар",
    "югославия",
    "южнокорейский",
    "южный корея",
    "южный судан",
    "япония",
    "японский",
}
towns = {"ванино", "сковородино", "красный полянин"}

people = {"чубайс", "дерипаск"}
currencies = {"рубль"}
boroughs = {"манхэттен", "кунцево"}

change_dict = {
    "CITY": cities,
    "ORGANIZATION": organizations,
    "GPE": gpes,
    "LOCATION": locations,
    "FAC": facilities,
    "REMOVE": remove,
    "PRODUCT": products,
    "REGION": regions,
    "COUNTRY": countries,
    "TOWN_OR_VILLAGE": towns,
    "PERSON": people,
    "CURRENCY": currencies,
    "BOROUGH": boroughs,
    "NORP": countries,
    "NATIONALITY": countries,
}


def find_keywords():
    keywords = {
        "relatives": {"сын", "дочь", "отец", "мать", "жена"},
        "sales": {"продает", "купил", "покупает", "покупк", "продаж"},
    }

    keywords = {
        key: {" " + k for k in value} for key, value in keywords.items()
    }

    texts: Dict[str, List[str]] = {key: [] for key in keywords}

    files = glob("brat/data/relations/Экономика/*/*.txt")
    for file in files:
        with open(file) as f:
            text = f.read()
        for key, value in keywords.items():
            if any(k in text for k in value):
                l = "http://10.8.0.2:8001/index.xhtml#/" + file[10:-4]
                os.system("xdg-open " + l)
                time.sleep(60)
                texts[key].append(file)

